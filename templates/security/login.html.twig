{% extends 'base.html.twig' %}

{% block title %}Log in!
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row">
			<div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
				<div class="card card-signin my-5">
					<div class="card-body">
						<h5 class="card-title text-center">Sign In</h5>
						<form action="{{ path('app_login') }}" class="form-horizontal" role="form" method="post">
								{% if error %}
									<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
								{% endif %}
									{% if app.user %}
										<div class="mb-3">
											You are logged in as
											{{ app.user.username }},
											<a href="{{ path('app_logout') }}">Logout</a>
										</div>
									{% endif %}
								<div class="form-group">
									<label for="email" class="col-md-4 control-label">E-Mail Address</label>
									<div class="col-md-12">
										<input type="email" id="username" name="_username" class="form-control" value="{{ last_username }}" required autofocus/>
									</div>
								</div>
								<div class="form-group">
									<label for="password" class="col-md-4 control-label">Password</label>
									<div class="col-md-12">
										<input id="inputPassword" type="password" class="form-control" name="_password" required/>
									</div>
								</div>
								<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}"/>
								<div class="form-group">
									<div class="col-md-12">
										<button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-12">
										Don't have an account?<a href="{{ path('registration') }}">  Sign Up</a>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	{% endblock %}
